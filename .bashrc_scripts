# open up programs from the command line

foxit() {
[ $# -ge 1 -a -f "$1" ] && input="$1" || while read data; do input=$data
    nohup gtk-launch FoxitReader "$@" > /dev/null 2>&1 & disown
    done
}

okpdf() {
   nohup okular "$@" > /dev/null 2>&1 & disown
}

zathura() {
[ $# -ge 1 -a -f "$1" ] && input="$1" || while read data; do input=$data
done
    nohup zathura "$1" > /dev/null 2>&1 & disown
}

browse(){
    nohup surf "$1" > /dev/null 2>&1 & disown
}

chrome-notebook(){
BROWSER=/usr/bin/chromium nohup jupyter-notebook $1 >/dev/null 2>&1 &
}

jupyter-notebook(){
nohup jupyter-notebook $1 >/dev/null 2>&1 & disown
}

tm()
{
    nohup texmaker $1 >/dev/null 2>&1 & disown
}

# efforts at a custom manpage

myhelp() {
    HELP_DIR="$HOME/git-repos/code/"
    grep -R "$1" $HELP_DIR
}

# function to view stickers downloaded from telegram

sticker(){
fname="`echo "$1" | cut -d'.' -f 1`".jpg
dwebp convert "$1" -o "$fname"
feh "$fname"
}

# lukes function to download scihub papers

shdl() { curl -O $(curl -s https://sci-hub.tw/"$@" | grep location.href | grep -o http.*pdf) ;}

# conner mcdaniels function 

doi2bib(){
    #echo >> bib.bib;
    #curl -s "http://api.crossref.org/works/$1/transform/application/x-bibtex" >> bib.bib;
    #echo >> bib.bib
    curl -s "http://api.crossref.org/works/$1/transform/application/x-bibtex" ;
}

doirename(){
    # function that renames a journal paper using its title obtained from the supplied doi
    name=`doi2bib "$1" | grep title | awk -F"[{}]" '{print $2}' | perl -pe 's/[ \(\)]/_/g;'`
    mv "$2" $name.pdf
}

open_with_fzf() {
    fd -t f -H -I | fzf | xargs -ro -d "\n" xdg-open 2>&-
}

cd_with_fzf() {
    cd "$(fd -t d | fzf --preview="tree -L 1 {}" --bind="space:toggle-preview" )"
}

findpdf(){
    okpdf "$(find ~ -type f -iname "*.pdf" | fzf)"
}

